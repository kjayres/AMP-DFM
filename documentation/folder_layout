everything should be refactored to run cleanly like well structured code - sh files should be written only to run scripts on the hpc and be minimal, all parameters or needed details should be stored in the respective python or config files.

Context and goals
- This folder is a cleaned, self-contained refactor of the antimicrobial peptide discrete flow matching project.
- The work adapts Pranam Chatterjee's discrete flow matching for peptides and ligand-binding to antimicrobial peptides, his work is under mog_dfm but outside ampflow. Eveyrthing will need to be cleanly and carefully refactored under amp_dfm which will need a proper layout such that it is shareable.
- Previously used utilities and scripts lived under /rds/general/user/kja24/home/mog_dfm/ampflow; only the minimal required utilities will be vendored here with attribution so amp_dfm stands alone. Only amp_dfm will be pushed to the shared repo.

HPC usage policy
- .sh files exist only to run jobs on the cluster and must stay minimal.
- Parameters and experiment settings live in config files (YAML/TOML) or Python modules, not in .sh files.
- Use the mog-dfm conda environment and activate it before running any project scripts.
- Do not run heavy jobs on the login node; submit through the .sh wrappers.

all sh files should look like:

/rds/general/user/kja24/home/mog_dfm/amp_dfm/scripts/hpc_cluster/template_hpc_job_script.sh

i.e. contain minimal extra detail and be ready to run - extra detail on model settings or file save locations should be stored in the .py file, config or toml files or somewhere else appropriate.

everything gets renamed from hemolysis to haemolysis and antimicrobial_activity to antimicrobial_activity

code should be clean, minimal and not overly bloated or with uneeded docstrings or comments but still work exactly as the oirginal did in terms of purpose and outputs

amp_dfm/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ ampdfm/                          # ğŸ“¦ Main package
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ dfm/                         # â† Move from root /dfm
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ flow_matching/
â”‚       â”‚   â”œâ”€â”€ models/                  # CNNModel, CNNModelPep
â”‚       â”‚   â””â”€â”€ guidance/                # Pure Python guidance logic
â”‚       â”œâ”€â”€ classifiers/                 # Classifier classes
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ base.py
â”‚       â”‚   â”œâ”€â”€ antimicrobial_activity.py
â”‚       â”‚   â”œâ”€â”€ haemolysis.py
â”‚       â”‚   â””â”€â”€ cytotoxicity.py
â”‚       â”œâ”€â”€ utils/
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ aa_vocab.py
â”‚       â”‚   â”œâ”€â”€ dataloader.py
â”‚       â”‚   â”œâ”€â”€ dataset.py
â”‚       â”‚   â”œâ”€â”€ flow_utils.py
â”‚       â”‚   â””â”€â”€ parsing.py
â”‚       â””â”€â”€ pipelines/                   # â† Rename /pipeline to this
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ mog.py                   # run_mog_sampling()
â”‚           â”œâ”€â”€ train.py                 # train_pepdfm()
â”‚           â””â”€â”€ sample_uncond.py
â”‚
â”œâ”€â”€ scripts/                             # âœ… Already organized
â”‚   â”œâ”€â”€ hpc_cluster/                     # âœ… Good
â”‚   â”œâ”€â”€ train_classifiers/               # âœ… Good
â”‚   â”œâ”€â”€ data_preprocessing/              # âœ… Good (or rename to data_prep)
â”‚   â”œâ”€â”€ model_validation/                # âœ… Good (or merge with analysis)
â”‚   â”œâ”€â”€ visualisations/                  # âœ… Good (or rename to visualization)
â”‚   â””â”€â”€ analysis/                        # Add: comparison scripts
â”‚
â”œâ”€â”€ configs/                             # âœ… Good
â”‚   â”œâ”€â”€ sample_mog.yaml
â”‚   â”œâ”€â”€ train_pepdfm.yaml
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ checkpoints/                         # âœ… Perfect structure
â”‚   â”œâ”€â”€ dfm/
â”‚   â””â”€â”€ classifiers/
â”‚
â”œâ”€â”€ data/                                # âœ… Good structure
â”‚   â”œâ”€â”€ dfm/
â”‚   â”œâ”€â”€ classifiers/
â”‚   â”œâ”€â”€ filtered/
â”‚   â””â”€â”€ embeddings/
â”‚
â”œâ”€â”€ outputs/                             # âœ… Good
â”‚
â”œâ”€â”€ docs/                                # Add: Documentation
â”‚   â”œâ”€â”€ WORKFLOWS.md
â”‚   â””â”€â”€ API.md
â”‚
â”œâ”€â”€ pyproject.toml                       # Add: Package metadata
â”œâ”€â”€ README.md                            # Update: Main documentation
â”œâ”€â”€ .gitignore                           # Add: Git ignore rules
â””â”€â”€ amp-dfm.yml                          # Add: Conda environment
